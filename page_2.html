<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TP Lychee - 2. Installation et Configuration Serveur</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div class="container">
      <header class="header">
        <h1>2. üîí Installation et Configuration Serveur</h1>
        <p>
          Cette section couvre le d√©ploiement de Lychee et la configuration des
          droits d'√©criture et des limites du serveur.
        </p>
      </header>

      <hr />

      <section id="deployment">
        <h2>2.1 Transfert et Droits d'acc√®s (CHMOD)</h2>
        <ol>
          <li><strong>Transfert FTP :</strong> D√©compresser l'archive "Release" de Lychee et
            transf√©rer les fichiers √† la racine d'un dossier d√©di√© (ex:
            `/public_html/portfolio` ou via un sous-domaine).
          </li>
          <li><strong>Droits d'acc√®s (CHMOD) :</strong> Lychee a besoin d'√©crire des donn√©es.
            Identifier les dossiers <em>public/uploads</em>, <em>public/dist</em> et
            <em>storage</em>. Appliquer les permissions n√©cessaires (g√©n√©ralement
            755 ou 775 selon l'h√©bergeur).
          </li>
          <li>
            <strong>Q3 :</strong> Pourquoi est-il risqu√© de mettre des droits
            <strong>777</strong>
            (√©criture totale) sur un dossier, m√™me si cela "r√®gle" les probl√®mes
            d'installation ?
          </li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice : Risque S√©curit√© CHMOD 777 (Q3)
          </button>
          <div class="code-content">
            <p>
              <strong>Rappel :</strong> <em>777</em> signifie que <strong>tout le monde</strong> (Propri√©taire,
              Groupe, et Autres/Internet) a le droit de lire, √©crire et
              ex√©cuter.
            </p>
            <p>
              <strong>R√©flexion :</strong> Si un attaquant parvient √† t√©l√©verser un fichier
              malveillant (script PHP) dans un dossier en 777, le serveur pourra
              l'ex√©cuter.
            </p>
          </div>
        </div>
      </section>

      <hr />

      <section id="config-php">
        <h2>2.2 Configuration PHP (Upload et Ex√©cution)</h2>
        <p>
          Par d√©faut, les serveurs limitent l'envoi de fichiers (souvent 2Mo).
          Vous devez modifier ces limites.
        </p>
        <ol start="4">
          <li>
            Cr√©er ou modifier le fichier <strong>`.htaccess`</strong> ou <strong>`.user.ini`</strong> √† la
            racine.
          </li>
          <li>
            Augmenter les directives <em>upload_max_filesize</em> et
            <em>post_max_size</em> √† au moins <strong>64M</strong>.
          </li>
          <li>
            Augmenter le <em>max_execution_time</em> si n√©cessaire (pour les gros
            imports).
          </li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice : Directives .htaccess / .user.ini
          </button>
          <div class="code-content">
            <p>
              Les directives PHP √† ajouter dans votre fichier de configuration :
            </p>
            <pre><code>php_value upload_max_filesize 64M
php_value post_max_size 64M
php_value max_execution_time 300</code></pre>
          </div>
        </div>
      </section>

      <hr />

      <section id="assisted-install">
        <h2>2.3 Installation Assist√©e et Debugging</h2>
        <ol start="7">
          <li>
            Lancer l'URL de votre dossier dans le navigateur. Suivre la
            proc√©dure d'installation, renseigner les infos de la base de
            donn√©es.
          </li>
          <li>Cr√©er le compte administrateur principal.</li>
          <li>
            <strong>Q4 :</strong> Si l'installation √©choue avec une <strong>"Erreur 500"</strong>, quel
            fichier devez-vous consulter en priorit√© sur le serveur pour
            comprendre l'erreur ?
          </li>
        </ol>

        <div class="code-step">
          <button class="toggle-button-code" onclick="toggleCode(this)">
            [ + ] Indice : D√©bugging d'une Erreur 500
          </button>
          <div class="code-content">
            <p>
              Une Erreur 500 c√¥t√© PHP est g√©n√©ralement caus√©e par des erreurs de
              syntaxe dans <em>.htaccess</em> ou un probl√®me de droits/version PHP. Le
              fichier √† consulter en priorit√© est le **fichier de logs**
              d'erreurs du serveur Web (souvent appel√© <em>error.log</em> ou
              <em>logs/apache_error.log</em> si vous utilisez Apache).
            </p>
          </div>
        </div>
      </section>

      <hr />

      <div class="menu-buttons">
        <div class="back-to-menu">
          <a href="page_1.html">‚Üê Partie pr√©c√©dente (Pr√©requis)</a>
        </div>
        <div class="back-to-menu">
          <a href="page_3.html"
            >‚Üí Partie suivante (Administration et Gestion des droits)</a
          >
        </div>
      </div>

      <footer>
      <p style="text-align: center; font-size: 0.9em; color: #666">
        ¬© 2025 - BUT MMI B√©ziers - MAURIN N.
        <br />R3.14 D√©ploiement de services
      </p>
    <script src="script.js"></script>
  </body>
</html>
